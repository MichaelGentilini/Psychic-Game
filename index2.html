<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>Rock Paper Scissors Part 2</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <style>
      .alert {
        display: none;
      }

      .hide-alert {
        display: block;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div id="game">
        <!-- warning/errors -->
        <div class="alert alert-danger" role="alert"></div>
        <!-- Instructions -->
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Rock, Paper, Scissors</h5>
            <h6 class="card-subtitle mb-2 text-muted">Instructions</h6>
            Select "r", "p", or "s" to play the game.
            <p></p>
            The computer will make a selection. We'll see who wins!
          </div>
        </div>
        <!-- Outcomes (selected choices for computer and user)) -->
        <div>
          <strong>User Choice: </strong>
          <span id="user-choice"></span>
        </div>
        <p></p>
        <div>
          <strong>Computer Choice: </strong>
          <span id="computer-choice"></span>
        </div>
        <!-- Counts (win, loss, tie) -->
        <table class="table table-hover table-dark">
          <thead>
            <tr>
              <th scope="col">Win</th>
              <th scope="col">Loss</th>
              <th scope="col">Tie</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td id="col-win">0</td>
              <td id="col-loss">0</td>
              <td id="col-tie">0</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script type="text/javascript">
      // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
      var computerChoices = ["r", "p", "s"],
        wins = 0,
        losses = 0,
        ties = 0,
        divUserChoice = document.getElementById("user-choice"),
        divComputerChoice = document.getElementById("computer-choice"),
        divWins = document.getElementById("col-win"),
        divLosses = document.getElementById("col-loss"),
        divTies = document.getElementById("col-tie");

      // This function is run whenever the user presses a key.
      document.onkeyup = function(event) {
        // Determines which key was pressed.
        var userGuess = event.key;

        if (computerChoices.indexOf(userGuess) > -1) {
          // Randomly chooses a choice from the options array. This is the Computer's guess.
          var computerGuess =
            computerChoices[Math.floor(Math.random() * computerChoices.length)];

          // rock beats scissors
          // paper beats rock
          // scissors beats paper
          if (
            (userGuess === "r" && computerGuess === "s") ||
            (userGuess === "p" && computerGuess === "r") ||
            (userGuess === "s" && computerGuess === "p")
          ) {
            wins++;
          } else if (
            (computerGuess === "r" && userGuess === "s") ||
            (computerGuess === "p" && userGuess === "r") ||
            (computerGuess === "s" && userGuess === "p")
          ) {
            losses++;
          } else {
            ties++;
          }

          // Write to HTML
          divUserChoice.innerHTML = userGuess;
          divComputerChoice.textContent = computerGuess;
          divWins.textContent = wins;
          divLosses.textContent = losses;
          divTies.textContent = ties;
        }
      };
    </script>
  </body>
</html>
